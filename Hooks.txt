=======
 Hooks
=======

Chandler aims to offer a high level of customization using Hooks_,
thin wrappers around `setuptools' entry points`_.

Chandler features that rely on Hooks_ can be extended or changed by
adding or removing entry points.

Main hooks
==========

Below are Chandler's most frequently used Hooks.  See "hook" in the
index_ for a complete list.

..
  When documenting a hook, add a Sphinx index directive, like
  .. index:: hook; chandler.interaction.hook_name (used by module_name) or
  .. index:: hook; chandler.domain.hook_name (registered by module_name)
  If the hook is a major part of Chandler's behavior, add a section here,
  and use :ref: to link to associated use and registration documentation.


.. index:: hook; chandler.domain.triage
.. _triage-hook-central:

Triage
------

.. describe:: triage_callable(entry) -> (weight, triage_status)

   Return (-1, None) if triage can't be calculated for the entry,
   otherwise a float weight and :mod:`~chandler.triage` value.

.. seealso::

   :ref:`triage-hook`
      ..

   :ref:`event-triage-position`
      ..


.. index:: hook; chandler.domain.triage_position
.. _triage-position-hook-central:

Triage position
---------------

"chandler.domain.triage_position"  provides callables like:

.. describe:: triage_position_callable(entry) -> position

   Return None if triage_position can't be calculated for the
   entry, otherwise a position timestamp.

.. seealso::

   :ref:`triage-position-hook`
      ..

   :ref:`event-triage-position`
      ..

Testing
=======

XXX Could use a different PluginManager if a Hook needs to be
    disabled, point to an example if we ever actually need that

.. _setuptools' entry points: http://peak.telecommunity.com/DevCenter/setuptools#entry-points
.. _Hooks: http://pypi.python.org/pypi/Plugins/
.. _index: genindex.html#H

